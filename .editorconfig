# top-level EditorConfig
root = true

[*]
charset = utf-8
end_of_line = lf
indent_style = space
indent_size = 4
insert_final_newline = true
trim_trailing_whitespace = true

# ===== C# reglas =====
[*.cs]

# NRT: preferimos referencias no-nullables y tratamos sus warnings como error
dotnet_diagnostic.CS8618.severity = error   # Non-nullable field is uninitialized
dotnet_diagnostic.CS8602.severity = error   # Dereference of a possibly null ref
dotnet_diagnostic.CS8625.severity = error   # Cannot convert null literal...
# (y así con los NRT que quieras “elevar”)

# using y orden
dotnet_sort_system_directives_first = true
dotnet_separate_import_directive_groups = true

# var / tipos explícitos
csharp_style_var_for_built_in_types = false:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:silent

# llaves y nuevas líneas
csharp_prefer_braces = true:warning
csharp_new_line_before_open_brace = all
csharp_new_line_between_query_expression_clauses = true

# Expresión vs bloque
csharp_style_expression_bodied_methods = when_on_single_line:suggestion
csharp_style_expression_bodied_properties = when_on_single_line:suggestion

# Parámetros y this.
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion

# Switch expression / patrones
csharp_style_prefer_switch_expression = true:suggestion
csharp_style_prefer_pattern_matching = true:suggestion

# Records / init
csharp_style_prefer_init_only_setters = true:suggestion
csharp_style_prefer_readonly_struct = true:suggestion

# ===== Naming Rules =====
# private fields => _camelCase
dotnet_naming_rule.private_fields_should_be_camel_with_underscore.severity = warning
dotnet_naming_rule.private_fields_should_be_camel_with_underscore.symbols = private_fields
dotnet_naming_rule.private_fields_should_be_camel_with_underscore.style = camel_with_underscore

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private
dotnet_naming_symbols.private_fields.required_modifiers =

dotnet_naming_style.camel_with_underscore.capitalization = camel_case
dotnet_naming_style.camel_with_underscore.required_prefix = _

# Interfaces => I pascal
dotnet_naming_rule.interfaces_should_start_with_I.severity = suggestion
dotnet_naming_rule.interfaces_should_start_with_I.symbols = interfaces
dotnet_naming_rule.interfaces_should_start_with_I.style = prefix_I

dotnet_naming_symbols.interfaces.applicable_kinds = interface
dotnet_naming_symbols.interfaces.applicable_accessibilities = public, internal, private, protected, protected_internal, private_protected

dotnet_naming_style.prefix_I.capitalization = pascal_case
dotnet_naming_style.prefix_I.required_prefix = I

# Constantes => PascalCase
dotnet_naming_rule.consts_pascal.severity = suggestion
dotnet_naming_rule.consts_pascal.symbols = consts
dotnet_naming_rule.consts_pascal.style = pascal

dotnet_naming_symbols.consts.applicable_kinds = field
dotnet_naming_symbols.consts.required_modifiers = const
dotnet_naming_style.pascal.capitalization = pascal_case

# ===== Severidades de analizadores =====
# Estilo como warning, bugs como error
dotnet_analyzer_diagnostic.category-Style.severity = warning
dotnet_analyzer_diagnostic.category-Design.severity = warning
dotnet_analyzer_diagnostic.category-Performance.severity = warning
dotnet_analyzer_diagnostic.category-Security.severity = warning
dotnet_analyzer_diagnostic.category-Reliability.severity = warning

# Puedes “elevar” reglas específicas:
# dotnet_diagnostic.IDE0060.severity = warning  # Remove unused parameter
# dotnet_diagnostic.IDE0051.severity = warning  # Remove unused private members

# ===== Test projects (relaja reglas) =====
[tests/**.cs]
csharp_style_var_for_built_in_types = true:silent
dotnet_analyzer_diagnostic.category-Style.severity = silent

csharp_style_namespace_declarations = file_scoped:suggestion
